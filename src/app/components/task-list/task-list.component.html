<!DOCTYPE html>




<div [class.alternative]="this.theme">


  <br>
  <div class="title" align="center">
    <mat-card color="primary">
      {{project[this.indexForProj].title}} {{this.userId}}
    </mat-card>
  </div>

  <div align="center">

    <button mat-fab color="primary" aria-label="New Task" (click)=" onCreate()" matTooltip="Add new Task" >
      <mat-icon>add</mat-icon>
    </button>

  </div>


  <div align="center" class="marg">
    <div style="width:50%; align: center">
      <mat-form-field>
        <mat-label>Sort</mat-label>
        <mat-select>
          <mat-option >
            Sort
          </mat-option>
          <mat-option (click)="queueByPriority()">
            Priority
          </mat-option>
          <mat-option (click)="queueByNew()">
            Newest
          </mat-option>
          <mat-option (click)="queueByOld()">
            Oldest
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>




  <div cdkDropList class = "Tasks" (cdkDropListDropped) = "drop($event)">

    <div *ngFor="let task of project[this.indexForProj].tasks let idx =index" cdkDrag>
      
      <mat-card>

        <mat-accordion>

          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title align="center">

                <h1>  {{task.title}} </h1>


              </mat-panel-title>
              <mat-panel-description align="right">
                Click to see description
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div align="center">
          <h1>
            {{task.description}}
          </h1>





            </div>
            <div align="center">


            </div>

            <mat-card-actions class="mat-action-row">
              <div align="left">
                <mat-chip-list>
                  <mat-chip color="primary" selected>Completed: {{task.completed}}</mat-chip>
                  <mat-chip color="primary" selected>Priority: {{task.priority}}</mat-chip>
                </mat-chip-list>

              </div>
              <button mat-fab color="primary" (click)="onEdit()" matTooltip="Edit Task"><mat-icon>edit</mat-icon></button>
              <button mat-fab color="primary" (click)="completeTask(task)"  matTooltip="Complete Task"><mat-icon>check</mat-icon></button>
              <button mat-fab color="primary" (click)="deleteTask(task)" matTooltip="Delete Task"><mat-icon>delete</mat-icon></button>

            </mat-card-actions>
            <mat-card-actions>
              <div class="poop" align="right">
                <app-dueDate ></app-dueDate>
              </div>

            </mat-card-actions>


          </mat-expansion-panel>
        </mat-accordion>

      </mat-card>
    </div>
    
  </div>
  <div align="center" class="marg">
  <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style">


    <mat-button-toggle value="italic"  (click)="queueByCompleted()">Completed</mat-button-toggle>

    <mat-button-toggle value="underline" (click)="queueByAll()">All</mat-button-toggle>
  </mat-button-toggle-group>
</div>




</div>
